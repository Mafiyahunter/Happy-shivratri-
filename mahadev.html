<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>üî± ‡§Æ‡§π‡§æ‡§ï‡§æ‡§≤ ‡§§‡§æ‡§Ç‡§°‡§µ ‚Äì ‡§∂‡§ø‡§µ ‡§∂‡§ï‡•ç‡§§‡§ø üî±</title>
<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    background: black;
    overflow: hidden;
    font-family: 'Arial', 'Devanagari', sans-serif;
}

#mainContent {
    position: relative;
    width: 100vw;
    height: 100vh;
}

/* Background Canvas */
#bgCanvas {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
    filter: blur(3px) brightness(0.6);
}

/* Shiva Image */
.shiva-container {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100%;
    height: 100%;
    z-index: 2;
    opacity: 0;
    animation: shivaAppear 2.5s ease-out forwards;
    pointer-events: none;
}

.shiva-image {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0.7);
    width: 70vmin;
    height: 70vmin;
    background: url('https://i.ibb.co/dvknkkm/Snap-Insta-to-626482531-18085705838272742-6013184296067579024-n.jpg') center/contain no-repeat;
    filter: drop-shadow(0 0 30px #ff4400) brightness(1.3) contrast(1.2);
    animation: shivaBreath 6s infinite alternate ease-in-out;
    border-radius: 50%;
    mix-blend-mode: screen;
}

@keyframes shivaAppear {
    0% { opacity: 0; filter: blur(20px); transform: translate(-50%, -50%) scale(1.2); }
    100% { opacity: 1; filter: blur(0); transform: translate(-50%, -50%) scale(1); }
}

@keyframes shivaBreath {
    0% { transform: translate(-50%, -50%) scale(0.7); filter: drop-shadow(0 0 20px #ff4400); }
    50% { transform: translate(-50%, -50%) scale(0.75); filter: drop-shadow(0 0 50px #ffaa00) brightness(1.5); }
    100% { transform: translate(-50%, -50%) scale(0.7); filter: drop-shadow(0 0 20px #ff4400); }
}

/* Fire Rings */
.fire-ring {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 80vmin;
    height: 80vmin;
    border: 3px solid transparent;
    border-radius: 50%;
    z-index: 3;
    pointer-events: none;
}

.ring-1 {
    border-top-color: #ff6600;
    border-bottom-color: #ff2200;
    animation: spinRing 12s linear infinite;
    box-shadow: 0 0 40px #ff4400;
}

.ring-2 {
    width: 95vmin;
    height: 95vmin;
    border-left-color: #ffaa00;
    border-right-color: #ff3300;
    animation: spinRingReverse 15s linear infinite;
    box-shadow: 0 0 60px #ff6600;
}

.ring-3 {
    width: 65vmin;
    height: 65vmin;
    border: 2px dotted #ff8800;
    animation: pulseRing 3s ease-in-out infinite;
}

@keyframes spinRing {
    0% { transform: translate(-50%, -50%) rotate(0deg); }
    100% { transform: translate(-50%, -50%) rotate(360deg); }
}

@keyframes spinRingReverse {
    0% { transform: translate(-50%, -50%) rotate(0deg); }
    100% { transform: translate(-50%, -50%) rotate(-360deg); }
}

@keyframes pulseRing {
    0% { transform: translate(-50%, -50%) scale(1); opacity: 0.6; }
    50% { transform: translate(-50%, -50%) scale(1.3); opacity: 0.2; }
    100% { transform: translate(-50%, -50%) scale(1); opacity: 0.6; }
}

/* Lyrics Circle */
.lyrics-circle-container {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 110vmin;
    height: 110vmin;
    z-index: 15;
    pointer-events: none;
    animation: circleGlow 3s infinite;
}

@keyframes circleGlow {
    0% { filter: drop-shadow(0 0 10px #ff6600); }
    50% { filter: drop-shadow(0 0 30px #ff3300); }
    100% { filter: drop-shadow(0 0 10px #ff6600); }
}

.lyrics-circle {
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    animation: rotateCircle 60s linear infinite;
    animation-play-state: paused;
}

.lyrics-circle.playing {
    animation-play-state: running;
}

@keyframes rotateCircle {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.lyric-item {
    position: absolute;
    left: 50%;
    top: 50%;
    transform-origin: 0 0;
    white-space: nowrap;
    font-size: clamp(14px, 2vw, 20px);
    color: rgba(255, 215, 0, 0.9);
    text-shadow: 0 0 15px #ff6600, 0 0 30px #ff3300;
    font-weight: bold;
    padding: 5px 15px;
    background: rgba(0, 0, 0, 0.4);
    border-radius: 30px;
    backdrop-filter: blur(3px);
    border-left: 3px solid #ff6600;
    letter-spacing: 1px;
    transition: all 0.3s;
}

.inner-om {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 80px;
    color: rgba(255, 100, 0, 0.4);
    text-shadow: 0 0 50px #ff4400;
    z-index: 16;
    animation: omSpin 20s infinite linear;
    pointer-events: none;
}

@keyframes omSpin {
    0% { transform: translate(-50%, -50%) rotate(0deg) scale(1); }
    50% { transform: translate(-50%, -50%) rotate(180deg) scale(1.2); }
    100% { transform: translate(-50%, -50%) rotate(360deg) scale(1); }
}

/* ========== IMPROVED TEXT SECTIONS - REDUCED GLOW ========== */
.intro-container {
    position: absolute;
    width: 100%;
    top: 12%;
    text-align: center;
    z-index: 10;
    pointer-events: none;
}

/* 1. ‡§∂‡§ø‡§µ ‡§∂‡§ï‡•ç‡§§‡§ø - Now with reduced glow for better visibility */
.main-title {
    font-size: clamp(45px, 9vw, 100px);
    font-weight: 900;
    color: #ffbb33;  /* Base color */
    text-shadow: 0 0 10px #ff8800, 0 0 20px #ff5500;  /* Reduced glow */
    letter-spacing: 8px;
    animation: titleDance 4s infinite alternate ease-in-out;
    display: inline-block;
    filter: drop-shadow(0 0 10px #ff4400);
    position: relative;
    background: linear-gradient(135deg, #ffcc66, #ff9933);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
}

@keyframes titleDance {
    0% { transform: scale(1) rotate(-0.5deg); letter-spacing: 8px; }
    50% { transform: scale(1.05) rotate(0.5deg); letter-spacing: 10px; }
    100% { transform: scale(1) rotate(-0.5deg); letter-spacing: 8px; }
}

/* 2. ‡§Æ‡§π‡§æ‡§ï‡§æ‡§≤ - Clear and bold with minimal glow */
.sanskrit-line {
    font-size: clamp(40px, 7vw, 70px);
    font-weight: 900;
    color: #ffaa33;
    text-shadow: 0 0 15px #ffaa00, 0 0 30px #ff6600;  /* Reduced glow */
    margin: 10px 0 5px;
    opacity: 0;
    animation: slideUp 1.5s 0.5s forwards, gentlePulse 4s infinite 2s;
    letter-spacing: 10px;
    background: linear-gradient(180deg, #ffcc66, #ff9933);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
}

@keyframes gentlePulse {
    0% { text-shadow: 0 0 10px #ffaa00, 0 0 20px #ff6600; }
    50% { text-shadow: 0 0 20px #ffaa00, 0 0 35px #ff5500; }
    100% { text-shadow: 0 0 10px #ffaa00, 0 0 20px #ff6600; }
}

/* 3. HAPPY MAHA SHIVARATRI - Clean and readable */
.sub-intro {
    font-size: clamp(22px, 4vw, 45px);
    font-weight: bold;
    color: #ffe0b0;
    text-shadow: 0 0 8px #ff9933, 0 0 16px #ff6600;  /* Minimal glow */
    letter-spacing: 6px;
    opacity: 0;
    animation: slideUp 1.5s 0.8s forwards;
    background: linear-gradient(135deg, #fff5e0, #ffcc88);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    padding: 0 20px;
    display: inline-block;
    position: relative;
}

.sub-intro::after {
    content: "üå∏";
    font-size: 0.8em;
    margin-left: 15px;
    filter: drop-shadow(0 0 5px #ff66aa);
    animation: flowerSpin 5s infinite linear;
    display: inline-block;
}

@keyframes flowerSpin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

@keyframes slideUp {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Floating OM */
.om-symbol {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 400px;
    color: rgba(255, 100, 0, 0.12);
    text-shadow: 0 0 100px rgba(255, 68, 0, 0.4);
    animation: omPulse 20s infinite ease-in-out;
    z-index: 1;
    pointer-events: none;
    white-space: nowrap;
}

@keyframes omPulse {
    0% { transform: translate(-50%, -50%) rotate(0deg) scale(1); opacity: 0.1; }
    50% { transform: translate(-50%, -50%) rotate(180deg) scale(1.3); opacity: 0.2; }
    100% { transform: translate(-50%, -50%) rotate(360deg) scale(1); opacity: 0.1; }
}

.tandav-text {
    position: absolute;
    bottom: 20%;
    left: 50%;
    transform: translateX(-50%);
    color: rgba(255, 215, 0, 0.9);
    font-size: 22px;
    letter-spacing: 15px;
    text-transform: uppercase;
    z-index: 5;
    animation: textPulse 3s infinite;
    text-shadow: 0 0 20px #ff6600;
    white-space: nowrap;
}

@keyframes textPulse {
    0% { letter-spacing: 15px; opacity: 0.7; text-shadow: 0 0 10px #ff6600; }
    50% { letter-spacing: 22px; opacity: 1; text-shadow: 0 0 25px #ff3300; }
    100% { letter-spacing: 15px; opacity: 0.7; text-shadow: 0 0 10px #ff6600; }
}

/* Diya Section */
.diya-container {
    position: absolute;
    bottom: 8%;
    left: 0;
    width: 100%;
    display: flex;
    justify-content: space-around;
    z-index: 8;
    pointer-events: none;
}

.diya {
    width: 60px;
    height: 60px;
    background: radial-gradient(circle at 50% 30%, #ffaa00, #ff4400);
    border-radius: 50% 50% 20% 20%;
    filter: blur(5px);
    animation: flameFlicker 0.5s infinite alternate;
}

@keyframes flameFlicker {
    0% { transform: scale(1); opacity: 0.7; filter: blur(5px); }
    100% { transform: scale(1.2); opacity: 1; filter: blur(8px); }
}

/* Music Controls */
.music-controls {
    position: absolute;
    bottom: 20px;
    left: 20px;
    z-index: 100;
    display: flex;
    gap: 10px;
    pointer-events: auto;
}

.music-btn {
    background: rgba(255, 100, 0, 0.3);
    border: 1px solid #ff6600;
    color: #ffaa00;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    backdrop-filter: blur(5px);
    transition: all 0.3s;
    box-shadow: 0 0 15px rgba(255, 68, 0, 0.5);
}

.music-btn:hover {
    background: rgba(255, 100, 0, 0.6);
    transform: scale(1.1);
    box-shadow: 0 0 25px #ff4400;
}

.music-btn.playing {
    background: #ff6600;
    color: white;
    animation: btnPulse 1s infinite;
}

@keyframes btnPulse {
    0% { box-shadow: 0 0 10px #ff6600; }
    50% { box-shadow: 0 0 20px #ff3300; }
    100% { box-shadow: 0 0 10px #ff6600; }
}

.song-info {
    position: absolute;
    bottom: 70px;
    left: 20px;
    color: rgba(255, 215, 0, 0.8);
    font-size: 14px;
    background: rgba(0,0,0,0.5);
    padding: 5px 15px;
    border-radius: 20px;
    border-left: 3px solid #ff6600;
    backdrop-filter: blur(5px);
    z-index: 99;
    white-space: nowrap;
    animation: glow 2s infinite;
}

@keyframes glow {
    0% { text-shadow: 0 0 5px #ff6600; }
    50% { text-shadow: 0 0 10px #ff3300; }
    100% { text-shadow: 0 0 5px #ff6600; }
}

.controls-note {
    position: absolute;
    bottom: 20px;
    right: 20px;
    color: rgba(255, 100, 0, 0.6);
    font-size: 14px;
    z-index: 10;
    animation: fadeInOut 2s infinite;
}

@keyframes fadeInOut {
    0%, 100% { opacity: 0.4; }
    50% { opacity: 1; }
}

@media (max-width: 768px) {
    .main-title { font-size: 40px; letter-spacing: 6px; }
    .sanskrit-line { font-size: 30px; letter-spacing: 6px; }
    .sub-intro { font-size: 18px; letter-spacing: 4px; }
    .tandav-text { font-size: 14px; letter-spacing: 8px; bottom: 15%; }
    .om-symbol { font-size: 200px; }
    .shiva-image { width: 80vmin; height: 80vmin; }
    .song-info { font-size: 12px; bottom: 65px; }
    .music-btn { width: 35px; height: 35px; font-size: 16px; }
    .lyric-item { font-size: 12px; padding: 3px 10px; }
    .inner-om { font-size: 50px; }
}
</style>
</head>
<body>

<div id="mainContent">
    <canvas id="bgCanvas"></canvas>
    
    <!-- Shiva Image -->
    <div class="shiva-container">
        <div class="shiva-image"></div>
    </div>

    <!-- Fire Rings -->
    <div class="fire-ring ring-1"></div>
    <div class="fire-ring ring-2"></div>
    <div class="fire-ring ring-3"></div>

    <!-- Canvas for particles -->
    <canvas id="effectsCanvas"></canvas>

    <!-- Lyrics Circle Container -->
    <div class="lyrics-circle-container">
        <div class="lyrics-circle" id="lyricsCircle">
            <!-- Lyrics will be added by JavaScript -->
        </div>
        <div class="inner-om">‡•ê</div>
    </div>

    <div class="om-symbol">‡•ê</div>

    <!-- Text Content - IMPROVED WITH REDUCED GLOW -->
    <div class="intro-container">
        <div class="main-title">‡§∂‡§ø‡§µ ‡§∂‡§ï‡•ç‡§§‡§ø</div>
        <div class="sanskrit-line">|| ‡§Æ‡§π‡§æ‡§ï‡§æ‡§≤ ||</div>
        <div class="sub-intro">HAPPY MAHA SHIVARATRI üå∏</div>
    </div>

    <div class="tandav-text">‡§®‡§ü‡§∞‡§æ‡§ú ‚Ä¢ ‡§∞‡•Å‡§¶‡•ç‡§∞ ‚Ä¢ ‡§Æ‡§π‡§æ‡§¶‡•á‡§µ</div>
    
    <!-- Diya Row -->
    <div class="diya-container">
        <div class="diya"></div>
        <div class="diya"></div>
        <div class="diya"></div>
        <div class="diya"></div>
        <div class="diya"></div>
    </div>

    <!-- Music Controls -->
    <div class="song-info" id="songInfo">üî± ‡§∂‡§ø‡§µ ‡§§‡§æ‡§Ç‡§°‡§µ ‡§∏‡•ç‡§§‡•ã‡§§‡•ç‡§∞‡§Æ‡•ç üî±</div>
    <div class="music-controls">
        <button class="music-btn" id="playPauseBtn" onclick="togglePlay()">‚ñ∂Ô∏è</button>
        <button class="music-btn" onclick="nextSong()">‚è≠Ô∏è</button>
        <button class="music-btn" onclick="volumeUp()">üîä</button>
        <button class="music-btn" onclick="volumeDown()">üîâ</button>
    </div>

    <div class="controls-note">üî± Click for Energy Burst ‚Ä¢ Feel the Divine üî±</div>
</div>

<!-- Audio Element -->
<audio id="shivaAudio" loop preload="auto">
    <source src="https://github.com/Mafiyahunter/Happy-shivratri-/raw/6f973e15165eaad837a7bc8dced558607384d16e/Music/ReelAudio-44924.mp3" type="audio/mpeg">
</audio>

<script>
// ========== CANVAS SETUP ==========
const bgCanvas = document.getElementById('bgCanvas');
const effectsCanvas = document.getElementById('effectsCanvas');
const bgCtx = bgCanvas.getContext('2d');
const ctx = effectsCanvas.getContext('2d');

function resizeCanvases() {
    bgCanvas.width = window.innerWidth;
    bgCanvas.height = window.innerHeight;
    effectsCanvas.width = window.innerWidth;
    effectsCanvas.height = window.innerHeight;
}
resizeCanvases();
window.addEventListener('resize', resizeCanvases);

// ========== LYRICS CIRCLE SETUP ==========
const lyricsCircle = document.getElementById('lyricsCircle');
const audio = document.getElementById('shivaAudio');
const playPauseBtn = document.getElementById('playPauseBtn');
const songInfo = document.getElementById('songInfo');

// Shiva Tandav Stotram Lyrics (in Romanized Sanskrit)
const lyrics = [
    
];

// Create lyric elements in circle
lyrics.forEach((text, index) => {
    const lyric = document.createElement('div');
    lyric.className = 'lyric-item';
    lyric.textContent = text;
    
    // Position in circle
    const angle = (index / lyrics.length) * 360;
    const radius = 45; // vmin (approximate)
    
    // Convert vmin to pixels approximately
    const vmin = Math.min(window.innerWidth, window.innerHeight) / 100;
    const x = Math.cos(angle * Math.PI / 180) * radius * vmin;
    const y = Math.sin(angle * Math.PI / 180) * radius * vmin;
    
    lyric.style.transform = `translate(${x}px, ${y}px) rotate(${angle}deg)`;
    lyric.style.transformOrigin = '0 0';
    
    lyricsCircle.appendChild(lyric);
});

// ========== AUDIO SYSTEM ==========
let isPlaying = false;

// Auto-play when page loads (with user interaction fallback)
document.addEventListener('click', function initAudio() {
    if (!isPlaying) {
        audio.play().then(() => {
            isPlaying = true;
            playPauseBtn.innerHTML = '‚è∏Ô∏è';
            playPauseBtn.classList.add('playing');
            lyricsCircle.classList.add('playing'); // Start circle rotation
            songInfo.innerHTML = "üéµ ‡§∂‡§ø‡§µ ‡§§‡§æ‡§Ç‡§°‡§µ ‡§∏‡•ç‡§§‡•ã‡§§‡•ç‡§∞‡§Æ‡•ç ‡§ö‡§≤ ‡§∞‡§π‡§æ ‡§π‡•à";
        }).catch(e => console.log("Auto-play prevented:", e));
    }
    document.removeEventListener('click', initAudio);
}, { once: true });

// Try to play automatically
window.addEventListener('load', () => {
    audio.load();
    setTimeout(() => {
        audio.play().then(() => {
            isPlaying = true;
            playPauseBtn.innerHTML = '‚è∏Ô∏è';
            playPauseBtn.classList.add('playing');
            lyricsCircle.classList.add('playing');
            songInfo.innerHTML = "üéµ ‡§∂‡§ø‡§µ ‡§§‡§æ‡§Ç‡§°‡§µ ‡§∏‡•ç‡§§‡•ã‡§§‡•ç‡§∞‡§Æ‡•ç ‡§ö‡§≤ ‡§∞‡§π‡§æ ‡§π‡•à";
        }).catch(() => {
            songInfo.innerHTML = "üî± ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•á‡§Ç ‡§∏‡§Ç‡§ó‡•Ä‡§§ ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è üî±";
        });
    }, 1000);
});

// Toggle play/pause
function togglePlay() {
    if (isPlaying) {
        audio.pause();
        playPauseBtn.innerHTML = '‚ñ∂Ô∏è';
        playPauseBtn.classList.remove('playing');
        lyricsCircle.classList.remove('playing'); // Stop circle rotation
        songInfo.innerHTML = "üî± ‡§∏‡§Ç‡§ó‡•Ä‡§§ ‡§∞‡•Å‡§ï‡§æ ‡§π‡•Å‡§Ü ‡§π‡•à üî±";
    } else {
        audio.play();
        playPauseBtn.innerHTML = '‚è∏Ô∏è';
        playPauseBtn.classList.add('playing');
        lyricsCircle.classList.add('playing'); // Start circle rotation
        songInfo.innerHTML = "üéµ ‡§∂‡§ø‡§µ ‡§§‡§æ‡§Ç‡§°‡§µ ‡§∏‡•ç‡§§‡•ã‡§§‡•ç‡§∞‡§Æ‡•ç ‡§ö‡§≤ ‡§∞‡§π‡§æ ‡§π‡•à";
    }
    isPlaying = !isPlaying;
}

// Next song (same audio for now)
function nextSong() {
    // Restart current audio
    audio.currentTime = 0;
    if (isPlaying) {
        audio.play();
    }
    
    // Visual feedback
    document.body.style.backgroundColor = 'rgba(255, 100, 0, 0.3)';
    setTimeout(() => document.body.style.backgroundColor = 'black', 200);
    
    songInfo.innerHTML = "üéµ ‡§∂‡§ø‡§µ ‡§§‡§æ‡§Ç‡§°‡§µ ‡§∏‡•ç‡§§‡•ã‡§§‡•ç‡§∞‡§Æ‡•ç (‡§™‡•Å‡§®‡§É ‡§∂‡•Å‡§∞‡•Ç)";
}

// Volume control
function volumeUp() {
    audio.volume = Math.min(1, audio.volume + 0.1);
    songInfo.innerHTML = `üîä ‡§µ‡•â‡§≤‡•ç‡§Ø‡•Ç‡§Æ: ${Math.round(audio.volume * 100)}%`;
    setTimeout(() => {
        songInfo.innerHTML = isPlaying ? "üéµ ‡§∂‡§ø‡§µ ‡§§‡§æ‡§Ç‡§°‡§µ ‡§∏‡•ç‡§§‡•ã‡§§‡•ç‡§∞‡§Æ‡•ç ‡§ö‡§≤ ‡§∞‡§π‡§æ ‡§π‡•à" : "üî± ‡§∏‡§Ç‡§ó‡•Ä‡§§ ‡§∞‡•Å‡§ï‡§æ ‡§π‡•Å‡§Ü ‡§π‡•à üî±";
    }, 1000);
}

function volumeDown() {
    audio.volume = Math.max(0, audio.volume - 0.1);
    songInfo.innerHTML = `üîâ ‡§µ‡•â‡§≤‡•ç‡§Ø‡•Ç‡§Æ: ${Math.round(audio.volume * 100)}%`;
    setTimeout(() => {
        songInfo.innerHTML = isPlaying ? "üéµ ‡§∂‡§ø‡§µ ‡§§‡§æ‡§Ç‡§°‡§µ ‡§∏‡•ç‡§§‡•ã‡§§‡•ç‡§∞‡§Æ‡•ç ‡§ö‡§≤ ‡§∞‡§π‡§æ ‡§π‡•à" : "üî± ‡§∏‡§Ç‡§ó‡•Ä‡§§ ‡§∞‡•Å‡§ï‡§æ ‡§π‡•Å‡§Ü ‡§π‡•à üî±";
    }, 1000);
}

// ========== PARTICLE SYSTEMS ==========
let particles = [];
let fireParticles = [];
let sparkles = [];
let mantras = [];
let time = 0;
let mouseX = window.innerWidth / 2;
let mouseY = window.innerHeight / 2;

const sanskritChars = ['‡•ê', '‡§∂‡§ø', '‡§µ', '‡§∞‡•Å', '‡§¶‡•ç‡§∞', '‡§®', '‡§ü', '‡§∞‡§æ', '‡§ú', '‡§§‡§æ‡§Ç', '‡§°', '‡§µ', '‡§Æ', '‡§π‡§æ', '‡§ï', '‡§≤'];

// Initialize particles
for (let i = 0; i < 200; i++) {
    particles.push({
        x: Math.random() * bgCanvas.width,
        y: Math.random() * bgCanvas.height,
        size: Math.random() * 4 + 1,
        speedX: (Math.random() - 0.5) * 1.2,
        speedY: (Math.random() - 0.5) * 1.2,
        opacity: Math.random() * 0.5 + 0.3,
        hue: Math.random() * 40 + 15,
        pulse: Math.random() * Math.PI * 2
    });
}

// Fire particles
for (let i = 0; i < 150; i++) {
    fireParticles.push({
        x: Math.random() * bgCanvas.width,
        y: Math.random() * bgCanvas.height,
        size: Math.random() * 10 + 5,
        speedX: (Math.random() - 0.5) * 2,
        speedY: (Math.random() - 2) * 1.5,
        life: Math.random() * 100 + 50,
        maxLife: 150,
        hue: Math.random() * 30 + 10
    });
}

// Sparkles
for (let i = 0; i < 100; i++) {
    sparkles.push({
        x: Math.random() * effectsCanvas.width,
        y: Math.random() * effectsCanvas.height,
        size: Math.random() * 8 + 2,
        angle: Math.random() * Math.PI * 2,
        speed: Math.random() * 3 + 1,
        life: Math.random() * 100 + 50,
        maxLife: 150,
        color: `hsl(${Math.random() * 40 + 20}, 100%, 60%)`
    });
}

// Mantras
for (let i = 0; i < 40; i++) {
    mantras.push({
        x: Math.random() * effectsCanvas.width,
        y: Math.random() * effectsCanvas.height,
        char: sanskritChars[Math.floor(Math.random() * sanskritChars.length)],
        size: Math.random() * 30 + 15,
        speedY: Math.random() * 0.8 + 0.3,
        opacity: Math.random() * 0.3 + 0.1,
        wave: Math.random() * Math.PI * 2
    });
}

// Drawing functions
function drawBackground() {
    const gradient = bgCtx.createRadialGradient(
        bgCanvas.width/2, bgCanvas.height/2, 0,
        bgCanvas.width/2, bgCanvas.height/2, bgCanvas.width/2
    );
    gradient.addColorStop(0, '#1a0f00');
    gradient.addColorStop(0.5, '#0a0500');
    gradient.addColorStop(1, '#000000');
    
    bgCtx.fillStyle = gradient;
    bgCtx.fillRect(0, 0, bgCanvas.width, bgCanvas.height);
    
    particles.forEach(p => {
        p.pulse += 0.02;
        const brightness = 0.5 + Math.sin(p.pulse) * 0.3;
        
        bgCtx.globalAlpha = p.opacity * brightness;
        bgCtx.fillStyle = `hsl(${p.hue}, 100%, 60%)`;
        bgCtx.beginPath();
        bgCtx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
        bgCtx.fill();
        
        p.x += p.speedX;
        p.y += p.speedY;
        
        if (p.x < 0) p.x = bgCanvas.width;
        if (p.x > bgCanvas.width) p.x = 0;
        if (p.y < 0) p.y = bgCanvas.height;
        if (p.y > bgCanvas.height) p.y = 0;
    });
}

function drawFireParticles() {
    fireParticles.forEach((p, index) => {
        p.life -= 1;
        p.y += p.speedY;
        p.x += p.speedX;
        p.size *= 0.99;
        
        if (p.life <= 0 || p.size < 0.5) {
            fireParticles[index] = {
                x: mouseX + (Math.random() - 0.5) * 400,
                y: mouseY + (Math.random() - 0.5) * 300,
                size: Math.random() * 15 + 5,
                speedX: (Math.random() - 0.5) * 3,
                speedY: (Math.random() - 2) * 2,
                life: Math.random() * 100 + 50,
                maxLife: 150,
                hue: Math.random() * 30 + 10
            };
            return;
        }
        
        const opacity = p.life / p.maxLife;
        ctx.globalAlpha = opacity * 0.4;
        ctx.fillStyle = `hsl(${p.hue}, 100%, 60%)`;
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
        ctx.fill();
    });
}

function drawSparkles() {
    sparkles.forEach((s, index) => {
        s.life -= 1.5;
        s.x += Math.cos(s.angle) * s.speed;
        s.y += Math.sin(s.angle) * s.speed;
        s.size *= 0.98;
        
        if (s.life <= 0 || s.size < 1) {
            sparkles[index] = {
                x: mouseX + (Math.random() - 0.5) * 600,
                y: mouseY + (Math.random() - 0.5) * 400,
                size: Math.random() * 10 + 3,
                angle: Math.random() * Math.PI * 2,
                speed: Math.random() * 4 + 1,
                life: Math.random() * 100 + 50,
                maxLife: 150,
                color: `hsl(${Math.random() * 40 + 20}, 100%, 60%)`
            };
            return;
        }
        
        const opacity = s.life / s.maxLife;
        ctx.globalAlpha = opacity;
        ctx.fillStyle = s.color;
        ctx.beginPath();
        ctx.arc(s.x, s.y, s.size, 0, Math.PI * 2);
        ctx.fill();
    });
}

function drawMantras() {
    mantras.forEach(m => {
        m.y -= m.speedY;
        m.wave += 0.05;
        
        if (m.y < -50) {
            m.y = effectsCanvas.height + 50;
            m.x = Math.random() * effectsCanvas.width;
        }
        
        const waveX = Math.sin(m.wave) * 10;
        const opacity = m.opacity + Math.sin(time * 2 + m.y) * 0.1;
        
        ctx.globalAlpha = opacity;
        ctx.font = `${m.size}px 'Arial', 'Devanagari', serif`;
        ctx.fillStyle = 'rgba(255, 140, 0, 0.6)';
        ctx.fillText(m.char, m.x + waveX, m.y);
    });
}

function drawTrishul(x, y, rotation, size) {
    ctx.save();
    ctx.translate(x, y);
    ctx.rotate(rotation);
    
    ctx.strokeStyle = 'rgba(255, 120, 0, 0.6)';
    ctx.lineWidth = 4;
    ctx.beginPath();
    ctx.moveTo(0, -size);
    ctx.lineTo(0, size);
    ctx.stroke();
    
    for (let i = -1; i <= 1; i++) {
        const offset = i * size/4;
        ctx.strokeStyle = `rgba(255, ${130 + i*50}, 0, 0.7)`;
        ctx.lineWidth = 3;
        ctx.beginPath();
        ctx.moveTo(offset, -size/2);
        ctx.lineTo(offset * 2, -size - 15);
        ctx.stroke();
    }
    
    ctx.restore();
}

function drawDamru(x, y, size) {
    ctx.save();
    ctx.translate(x, y);
    
    for (let i = 0; i < 2; i++) {
        const yOffset = i === 0 ? -size/3 : size/3;
        ctx.strokeStyle = `rgba(255, ${160 + i*30}, 0, 0.5)`;
        ctx.lineWidth = 3;
        
        ctx.beginPath();
        ctx.moveTo(-size/2, yOffset);
        ctx.lineTo(0, yOffset + (i === 0 ? -size/3 : size/3));
        ctx.lineTo(size/2, yOffset);
        ctx.stroke();
    }
    
    ctx.restore();
}

function drawDivineGlow() {
    const gradient = ctx.createRadialGradient(
        mouseX, mouseY, 20,
        mouseX, mouseY, 400 + Math.sin(time) * 50
    );
    gradient.addColorStop(0, 'rgba(255, 100, 0, 0.4)');
    gradient.addColorStop(0.5, 'rgba(200, 50, 0, 0.2)');
    gradient.addColorStop(1, 'rgba(0, 0, 0, 0)');
    
    ctx.fillStyle = gradient;
    ctx.globalAlpha = 0.3;
    ctx.beginPath();
    ctx.arc(mouseX, mouseY, 400 + Math.sin(time) * 50, 0, Math.PI * 2);
    ctx.fill();
}

function drawSacredGeometry() {
    ctx.save();
    ctx.translate(effectsCanvas.width/2, effectsCanvas.height/2);
    ctx.rotate(time * 0.1);
    
    ctx.strokeStyle = 'rgba(255, 100, 0, 0.3)';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.arc(0, 0, 250, 0, Math.PI * 2);
    ctx.stroke();
    
    for (let i = 0; i < 8; i++) {
        const angle = (i / 8) * Math.PI * 2;
        const x = Math.cos(angle) * 200;
        const y = Math.sin(angle) * 200;
        
        ctx.beginPath();
        ctx.moveTo(0, 0);
        ctx.lineTo(x, y);
        ctx.strokeStyle = `rgba(255, ${100 + i*20}, 0, 0.2)`;
        ctx.stroke();
    }
    
    ctx.restore();
}

// Mouse interaction
window.addEventListener('mousemove', (e) => {
    mouseX = e.clientX;
    mouseY = e.clientY;
});

window.addEventListener('click', (e) => {
    for (let i = 0; i < 40; i++) {
        sparkles.push({
            x: e.clientX,
            y: e.clientY,
            size: Math.random() * 20 + 5,
            angle: Math.random() * Math.PI * 2,
            speed: Math.random() * 8 + 2,
            life: 120,
            maxLife: 120,
            color: `hsl(${Math.random() * 60 + 20}, 100%, 60%)`
        });
    }
    
    document.body.style.backgroundColor = 'rgba(255, 80, 0, 0.3)';
    setTimeout(() => {
        document.body.style.backgroundColor = 'black';
    }, 200);
    
    if (navigator.vibrate) {
        navigator.vibrate([50, 100, 150]);
    }
});

// Animation loop
function animate() {
    time += 0.03;
    
    ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';
    ctx.fillRect(0, 0, effectsCanvas.width, effectsCanvas.height);
    
    drawBackground();
    drawDivineGlow();
    drawSacredGeometry();
    
    drawTrishul(effectsCanvas.width * 0.15, effectsCanvas.height * 0.2, time * 0.2, 80);
    drawTrishul(effectsCanvas.width * 0.85, effectsCanvas.height * 0.8, time * 0.3 + 1, 80);
    drawDamru(effectsCanvas.width * 0.1, effectsCanvas.height * 0.8, 50);
    drawDamru(effectsCanvas.width * 0.9, effectsCanvas.height * 0.15, 50);
    
    drawFireParticles();
    drawSparkles();
    drawMantras();
    
    requestAnimationFrame(animate);
}

animate();

setInterval(() => {
    if (Math.random() > 0.3) {
        for (let i = 0; i < 5; i++) {
            fireParticles.push({
                x: mouseX + (Math.random() - 0.5) * 400,
                y: mouseY + (Math.random() - 0.5) * 300,
                size: Math.random() * 15 + 5,
                speedX: (Math.random() - 0.5) * 3,
                speedY: (Math.random() - 2) * 2,
                life: Math.random() * 100 + 50,
                maxLife: 150,
                hue: Math.random() * 30 + 10
            });
        }
    }
}, 300);
</script>
</body>
</html>
